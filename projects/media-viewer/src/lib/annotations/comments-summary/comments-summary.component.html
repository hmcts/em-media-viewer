<div id="modal-background" class="modal" (click)="onClose()">
  <div id="modal" class="modal-content govuk-width-container clearfix" (click)="$event.stopPropagation()">
    <div id="comment-container" class="comment-container" #commentContainer>
      <h2 class="govuk-heading-m">{{ title }}</h2>
      <table class="govuk-table" *ngIf="comments.length; else noComments">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header">User</th>
            <th scope="col" class="govuk-table__header">Page</th>
            <th scope="col" class="govuk-table__header">Date</th>
            <th scope="col" class="govuk-table__header">Comment</th>
          </tr>
        </thead>
        <tbody class="govuk-table__body" >
          <tr *ngFor='let commentSummary of comments; let i = index' [id]="'comment-row-'+i" class="govuk-table__row">
            <td class="govuk-table__cell">
              <span title="{{commentSummary.comment.createdByDetails.forename}} {{commentSummary.comment.createdByDetails.surname}}">
                {{commentSummary.comment.createdByDetails.forename}} {{commentSummary.comment.createdByDetails.surname}}
              </span>
            </td>
            <td (click)="navigateToPage(commentSummary.page)" class="govuk-table__cell">
              <a>{{commentSummary.page}}</a>
            </td>
            <td class="govuk-table__cell">
              {{commentSummary.comment.createdDate | date : "d MMM yyyy hh:mm" }}
            </td>
            <td title="{{commentSummary.comment.content}}" class="govuk-table__cell">
              <span class="clipped">
                {{commentSummary.comment.content}}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
      <ng-template #noComments>
       <h3 class="govuk-heading-s" >No comments available!</h3>
      </ng-template>
    </div>

    <div class="button-container">
      <button (click)="onPrint()" class="govuk-button govuk-button--secondary">Print</button>
      <button id="modal-close-button" (click)="onClose()" class="govuk-button">Close</button>
    </div>
  </div>
</div>
