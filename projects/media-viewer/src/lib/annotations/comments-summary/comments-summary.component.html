<div id="modal-background" class="modal" (click)="onClose()">
  <div id="modal" class="modal-content govuk-width-container clearfix" (click)="$event.stopPropagation()">
    <div id="comment-container" class="comment-container" #commentContainer>
      <h2 class="govuk-heading-m">{{ title }}</h2>
      <ng-container *ngIf="(comments$ | async) as comments">
        <ng-container *ngIf="comments.length">
          <ngx-datatable
            [rows]="comments"
            rowHeight="auto"
            headerHeight="auto"
            [columnMode]="'flex'"
            [sorts]="[{ prop: 'date', dir: 'desc' }]">
            <ngx-datatable-column name="User" [flexGrow]="1" [sortable]="false"></ngx-datatable-column>
            <ngx-datatable-column name="Page" [flexGrow]="1"></ngx-datatable-column>
            <ngx-datatable-column name="Date" [flexGrow]="1"></ngx-datatable-column>
            <ngx-datatable-column name="Comment" [flexGrow]="3" [sortable]="false"></ngx-datatable-column>
            <ngx-datatable-column name="Tags" [flexGrow]="1" [sortable]="false"></ngx-datatable-column>
          </ngx-datatable>
        </ng-container>
        <ng-container *ngIf="!comments.length">
          <h3 class="govuk-heading-s" >No comments available</h3>
        </ng-container>
      </ng-container>
    </div>

    <div class="button-container">
      <button (click)="onPrint()" class="govuk-button govuk-button--secondary">Print</button>
      <button id="modal-close-button" (click)="onClose()" class="govuk-button">Close</button>
    </div>
  </div>
</div>
