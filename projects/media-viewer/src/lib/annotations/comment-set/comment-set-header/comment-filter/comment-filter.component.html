<div class="comment-filter">
  <div class="hmcts-filter__content">
    <div class="hmcts-filter__selected-heading">
      <div class="hmcts-filter__heading-action">
        <p><a (click)="onClearFilters()" class="govuk-link govuk-link--no-visited-state" [routerLink]="">Clear filters</a></p>
      </div>
    </div>
    <h3 class="govuk-heading-s govuk-!-margin-bottom-0">Tags</h3>
    <ul class="hmcts-filter-tags">
      <li *ngFor="let tagName of (filter$ | async)"><a class="hmcts-filter__tag" [routerLink]="">
        <span class="govuk-visually-hidden">Remove this filter</span>{{tagName}}</a></li>
    </ul>

    <div class="hmcts-filter__options">
      <div class="govuk-form-group">
        <label class="govuk-label govuk-label--s" for="keywords">
          Search Tags
        </label>
        <input class="govuk-input" id="keywords" name="keywords" type="text" [(ngModel)]="searchValue">
      </div>

      <div class="govuk-form-group">
        <form [formGroup]="tagGroup">
          <fieldset class="govuk-fieldset" formGroupName="tagFilters">
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
              Tags
            </legend>
            <div class="govuk-checkboxes govuk-checkboxes--small">
              <div class="govuk-checkboxes__item" *ngFor="let item of (allTags$ | async) | filter: searchValue: 'key'">
                <input [formControlName]="item.key" class="govuk-checkboxes__input" [value]="false"  type="checkbox">
                <label class="govuk-label govuk-checkboxes__label">
                  {{ item.key }} ({{item.length}})
                </label>
              </div>
            </div>
          </fieldset>
        </form>
      </div>
    </div>
  </div>
</div>
