<div class="annotation-wrapper" tabindex="1" (focusout)="toggleSelection(false)">
  <ng-container *ngFor="let rectangle of annotation.rectangles">
    <mv-anno-rectangle
      (click)="toggleSelection(true)"
      (update)="onRectangleUpdate($event)"
      (delete)="onRectangleDelete($event)"
      [selected]="selected"
      [zoom]="zoom"
      [rotate]="rotate"
      [rectangle]="rectangle"
      [draggable]="draggable"
      [color]="annotation.color">
    </mv-anno-rectangle>
  </ng-container>
  <mv-anno-comment
    *ngIf="annotation.comments[0]"
    (click)="toggleSelection(true)"
    (delete)="onCommentDelete()"
    (updated)="onCommentUpdate($event)"
    [rotate]="rotate"
    [selected]="selected"
    [comment]="annotation.comments[0]"
    [rectangle]="annotation.rectangles[0]"
    [zoom]="zoom">
  </mv-anno-comment>
</div>
