<div #container class="annotation-wrapper" [tabindex]="annotation.id" (focusout)="onFocusOut($event)">
  <mv-popup-toolbar *ngIf="selected"
                    [rectangle]="topRectangle()"
                    [zoom]="zoom"
                    [rotate]="rotate"
                    (deleteHighlight)="deleteHighlight()"
                    (addOrEditComment)="addOrEditComment()"
  ></mv-popup-toolbar>
  <ng-container *ngFor="let rectangle of annotation.rectangles">
    <mv-anno-rectangle
      (click)="onSelect()"
      (update)="onRectangleUpdate($event)"
      [selected]="selected"
      [zoom]="zoom"
      [rotate]="rotate"
      [rectangle]="rectangle"
      [color]="annotation.color">
    </mv-anno-rectangle>
  </ng-container>
</div>
