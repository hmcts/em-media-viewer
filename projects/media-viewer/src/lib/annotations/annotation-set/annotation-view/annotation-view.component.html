<div #container [tabindex]="-1">
  <mv-ctx-toolbar #ctxToolbar *ngIf="selected && showToolbar"
                  [canDelete]="true" [canComment]="true"
                  [rectangles]="anno.rectangles"
                  [zoom]="zoom"
                  [rotate]="rotate"
                  [pageHeight]="pageHeight"
                  [pageWidth]="pageWidth"
                  (deleteHighlightEvent)="deleteHighlight()"
                  (addOrEditCommentEvent)="addOrEditComment()"
                  (keydown)="onToolbarKeydown($event)">
  </mv-ctx-toolbar>
  <ng-container *ngFor="let rectangle of anno.rectangles; let i = index">
    <mv-anno-rectangle
      (selectEvent)="onSelect()"
      (updateEvent)="onRectangleUpdate($event)"
      (keyboardMovingChange)="onKeyboardMovingChange($event)"
      (deleteEvent)="deleteHighlight()"
      (tabToToolbar)="onTabToToolbar($event)"
      [selected]="selected"
      [zoom]="zoom"
      [rotate]="rotate"
      [pageHeight]="pageHeight"
      [pageWidth]="pageWidth"
      [editable]="anno.rectangles.length <= 1"
      [annoRect]="rectangle"
      [rectangleTabIndex]="i + 1"
      [color]="anno.color">
    </mv-anno-rectangle>
  </ng-container>
</div>
