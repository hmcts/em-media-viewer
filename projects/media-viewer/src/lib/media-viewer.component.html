<div id="outerContainer"
     [ngClass]="{
       'has-redact-bar': toolbarEvents.redactionMode | async,
       'is-redaction-preview': toolbarEvents.redactionPreview | async,
       sidebarOpen: toolbarEvents.sidebarOpen | async,
       'has-scroll-bar': hasScrollBar,
       'has-different-page-size': hasDifferentPageSize$ | async
     }"
     [ngStyle]="{ width: width }">

  <mv-comments-summary *ngIf="showCommentSummary"
                       [title]="documentTitle || 'Comment Summary'"
                       [contentType]="contentType"
                       [annotationSet]="enableAnnotations ? (annotationSet$ | async) : null">
  </mv-comments-summary>

  <div id="mainContainer">
    <mv-main-toolbar *ngIf="showToolbar"
                     [enableAnnotations]="enableAnnotations"
                     [enableRedactions]="enableRedactions">
    </mv-main-toolbar>

    <mv-redaction-toolbar *ngIf="toolbarEvents.redactionMode | async"></mv-redaction-toolbar>

    <mv-pdf-viewer *ngIf="contentType === 'pdf'"
                   (pdfLoadStatus)="onMediaLoad($event)"
                   (pdfViewerException)="onLoadException($event)"
                   (documentTitle)="onDocumentTitleChange($event)"
                   [url]="url"
                   [enableAnnotations]="enableAnnotations"
                   [enableRedactions]="enableRedactions"
                   [annotationSet]="enableAnnotations ? (annotationSet$ | async) : null"
                   [downloadFileName]="downloadFileName"
                   [height]="height">
    </mv-pdf-viewer>
    <mv-image-viewer *ngIf="contentType === 'image'"
                     (imageLoadStatus)="onMediaLoad($event)"
                     (imageViewerException)="onLoadException($event)"
                     [url]="url"
                     [enableRedactions]="enableRedactions"
                     [enableAnnotations]="enableAnnotations"
                     [annotationSet]="enableAnnotations ? (annotationSet$ | async) : null"
                     [downloadFileName]="downloadFileName"
                     [height]="height">
    </mv-image-viewer>
    <mv-unsupported-viewer *ngIf="contentTypeUnsupported()"
                           [url]="url"
                           [typeException]="typeException"
                           [downloadFileName]="downloadFileName"
                           (loadStatus)="onMediaLoad($event)"
                           (unsupportedViewerException)="onLoadException($event)">
    </mv-unsupported-viewer>
  </div>
</div>

