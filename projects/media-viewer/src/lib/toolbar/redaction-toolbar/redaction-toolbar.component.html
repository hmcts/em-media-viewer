<div class="redaction">
  <label class="govuk-label redaction-title" data-l10n-id="redaction_options">{{
    "Redaction options" | rpxTranslate
  }}</label>
  <button
    id="toggleDrawButton"
    class="mv-button redaction-button--draw mv-tooltip"
    [attr.data-tooltip]="'Draw a box' | rpxTranslate"
    [attr.aria-label]="'Draw a box' | rpxTranslate"
    data-l10n-id="toggleDrawButton"
    (click)="toggleDrawMode()"
    [disabled]="redactionAllInProgress"
  >
    <span data-l10n-id="toggleDrawButton_label" aria-hidden="true">{{
      "Draw a box" | rpxTranslate
    }}</span>
  </button>
  <button
    id="redactPageButton"
    class="mv-button redaction-button--redact-page mv-tooltip"
    [attr.data-tooltip]="'Redact page' | rpxTranslate"
    [attr.aria-label]="'Redact page' | rpxTranslate"
    data-l10n-id="redactPageButton"
    (click)="redactPage()"
    [disabled]="redactionAllInProgress"
  >
    <span data-l10n-id="redactPageButton_label" aria-hidden="true">{{
      "Redact page" | rpxTranslate
    }}</span>
  </button>
  <button
    *ngIf="showRedactSearch"
    id="mvRedactFromSearchBtn"
    class="mv-button redaction-button--search mv-tooltip"
    [attr.data-tooltip]="'From search' | rpxTranslate"
    [attr.aria-label]="'From search' | rpxTranslate"
    data-l10n-id="fromSearchButton"
    (click)="onRedactAllSearch()"
    [disabled]="redactionAllInProgress"
  >
    <span style="width: 5rem" data-l10n-id="fromSearchButton_label" aria-hidden="true">{{
      "From search" | rpxTranslate
    }}</span>
  </button>

  <button
    *ngIf="toolbarButtons.showHighlightButton"
    id="toggleHighlightButton"
    class="mv-button redaction-button--redact mv-tooltip"
    aria-pressed="false"
    [attr.data-tooltip]="'Redact text' | rpxTranslate"
    [attr.aria-label]="'Redact text' | rpxTranslate"
    data-l10n-id="toggleTextRedactionButton"
    (click)="toggleTextRedactionMode()"
    [disabled]="redactionAllInProgress"
  >
    <span data-l10n-id="toggleTextRedactionButton_label" aria-hidden="true">{{
      "Redact text" | rpxTranslate
    }}</span>
  </button>

  <button
    [disabled]="!hasRedactions || redactionAllInProgress"
    id="mvClearBtn"
    #mvClearBtn
    class="mv-button redaction-button--clear mv-tooltip"
    aria-pressed="false"
    [attr.data-tooltip]="'Clear all' | rpxTranslate"
    [attr.aria-label]="'Clear all' | rpxTranslate"
    data-l10n-id="toggleClearAllButton"
    (click)="unmarkAll()"
  >
    <span data-l10n-id="Clear all" aria-hidden="true">{{ "Clear all" | rpxTranslate }}</span>
  </button>

  <button
    [disabled]="!hasRedactions || redactionAllInProgress"
    id="mvPreviewBtn"
    class="mv-button mv-tooltip"
    [class.redaction-button--preview]="!preview"
    [class.redaction-button--hide-preview]="preview"
    redaction-button--preview
    aria-pressed="false"
    [attr.data-tooltip]="preview ? ('Hide preview' | rpxTranslate) : ('Preview' | rpxTranslate)"
    [attr.aria-label]="preview ? ('Hide preview' | rpxTranslate) : ('Preview' | rpxTranslate)"
    data-l10n-id="togglePreviewButton"
    (click)="togglePreview()"
  >
    <span *ngIf="!preview" data-l10n-id="redaction-preview_label" aria-hidden="true">{{
      "Preview" | rpxTranslate
    }}</span>
    <span *ngIf="preview" data-l10n-id="redaction-hide-preview_label" aria-hidden="true">{{
      "Hide preview" | rpxTranslate
    }}</span>
  </button>

  <button
    [disabled]="!hasRedactions || redactionAllInProgress"
    id="mvRedactBtn"
    class="mv-button redaction-button--download mv-tooltip"
    aria-pressed="false"
    [attr.data-tooltip]="'Save document' | rpxTranslate"
    [attr.aria-label]="'Save document' | rpxTranslate"
    data-l10n-id="mvRedactBtn"
    (click)="redact()"
  >
    <span data-l10n-id="Save Document" aria-hidden="true">{{
      "Save document" | rpxTranslate
    }}</span>
  </button>

  <button
    id="mvCloseBtn"
    #mvCloseBtn
    class="mv-button redaction-button--close mv-tooltip"
    [attr.data-tooltip]="'Close Redaction' | rpxTranslate"
    [attr.aria-label]="'Close Redaction' | rpxTranslate"
    data-l10n-id="mvRedactBtn"
    (click)="toggleRedactBar()"
    [disabled]="redactionAllInProgress"
  >
    <span data-l10n-id="Close Redaction" aria-hidden="true">{{
      "Close Redaction" | rpxTranslate
    }}</span>
  </button>
</div>
