<div>
  <div class="govuk-width-container">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-third">
        <h2 class="govuk-heading-m  govuk-!-margin-top-4">Media Viewer Demo</h2>
      </div>
      <div class="govuk-grid-column-two-thirds">
        <app-toolbar-toggles [showCommentSummary]="showCommentSummary"
                             (toggleAnnotations)="toggleAnnotations($event)"
                             (toggleToolbar)="toggleToolbar($event)"
                             (toggleToolbarBtns)="toggleToolbarBtns($event)"></app-toolbar-toggles>
      </div>
    </div>
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-half">
        <details class="govuk-details">
          <summary class="govuk-details__summary">
            <span class="govuk-details__summary-text">Change document URL</span>
          </summary>
          <form #form="ngForm">
            <input class="govuk-input govuk-!-width-two-thirds" id="documentUrl" name="documentUrl" type="text"
                   aria-label="document url" ngModel [value]="url">
            <button class="govuk-button" type="submit"
                    (click)="setDocumentUrl(form.value.documentUrl)">Load document</button>
          </form>
        </details>
      </div>
      <div *ngIf="documentType === 'unsupported'" class="govuk-grid-column-one-quarter">
        <details class="govuk-details">
          <summary class="govuk-details__summary">
            <span class="govuk-details__summary-text">Change document type</span>
          </summary>
          <div class="govuk-details__text">
            <input class="govuk-input" type="text" name="unsupportedType" [(ngModel)]="unsupportedType">
          </div>
        </details>
      </div>
      <div class="govuk-grid-column-one-quarter">
        <details class="govuk-details">
          <summary class="govuk-details__summary">
            <span class="govuk-details__summary-text">Change download file</span>
          </summary>
          <div class="govuk-details__text">
            <input *ngIf="documentType === 'pdf'" class="govuk-input" type="text" name="pdfFileName"
                   aria-label="pdf file name" [(ngModel)]="filename">
          </div>
        </details>
      </div>
    </div>
    <div class="govuk-grid-row">
      <div *ngIf="mediaLoadStatus && mediaLoadStatus ==='SUCCESS'" class="govuk-panel--confirmation">
        <div class="govuk-panel__body">
          Document load result: <strong>{{ mediaLoadStatus }}</strong>
        </div>
      </div>
        <div *ngIf="mediaLoadStatus && ['FAILURE', 'UNSUPPORTED'].includes(mediaLoadStatus)"
          class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="error-summary">
          <div class="govuk-error-summary__body">
            <ul class="govuk-list govuk-error-summary__list">
              <li>
                <a href="#">Document load result: <strong>{{ mediaLoadStatus }}</strong></a>
              </li>
            </ul>
          </div>
        </div>
    </div>
    <div class="govuk-grid-row govuk-!-width-two-thirds">
        <button class="govuk-button govuk-!-margin-right-1 govuk-!-width-one-quarter" data-module="govuk-button"
                [ngClass]="{ 'govuk-button--secondary': documentType !== 'pdf' }" id="pdf-button"
                (click)="setDocumentType('pdf')">PDF
        </button>
      <button class="govuk-button govuk-!-margin-right-1 govuk-!-width-one-quarter"
              [ngClass]="{ 'govuk-button--secondary': documentType !== 'image' }" id="image-button"
              data-module="govuk-button" (click)="setDocumentType('image')">Image
      </button>
      <button class="govuk-button govuk-!-width-one-third" data-module="govuk-button" id="unsupported-button"
              [ngClass]="{ 'govuk-button--secondary': documentType !== null }"
              (click)="setDocumentType(null)">Unsupported content
      </button>
    </div>
  </div>
  <mv-comments-summary *ngIf="showCommentSummary | async"
                       [title]="'Document Title'"
                       [showCommentSummary]="showCommentSummary"
                       [comments]="(comments | async) || []"></mv-comments-summary>
  <mv-media-viewer [url]="url"
                   [downloadFileName]="filename"
                   [contentType]="documentType"
                   [showCommentSummary]="showCommentSummary"
                   [enableAnnotations]="enableAnnotations"
                   [showToolbar]="showToolbar"
                   [toolbarButtonOverrides]="toolbarButtonOverrides"
                   (mediaLoadStatus)="onMediaLoad($event)"
                   (toolbarEventsOutput)="getToolbarFunctions($event)"></mv-media-viewer>
</div>
